{"fileName":"GSNContext.sol","contractName":"GSNContext","source":"pragma solidity ^0.5.0;\n\n/*\n * @dev Enables GSN support by recognizing calls from RelayHub and extracting\n * the actual sender and call data from the received values.\n *\n * Adapted from @openzeppelin/contracts\n */\ncontract GSNContext {\n    address private _relayHub = 0xD216153c06E857cD7f72665E0aF1d7D82172F494;\n\n    // Currently required by the RelayProvider\n    function getHubAddr() public view returns (address) {\n        return _relayHub;\n    }\n\n    function _upgradeRelayHub(address newRelayHub) internal {\n        _relayHub = newRelayHub;\n    }\n\n    // Overrides for Context's functions: when called from RelayHub, sender and\n    // data require some pre-processing: the actual sender is stored at the end\n    // of the call data, which in turns means it needs to be removed from it\n    // when handling said data.\n\n    function _msgSender() internal view returns (address) {\n        if (msg.sender != _relayHub) {\n            return msg.sender;\n        } else {\n            return _getRelayedCallSender();\n        }\n    }\n\n    function _msgData() internal view returns (bytes memory) {\n        if (msg.sender != _relayHub) {\n            return msg.data;\n        } else {\n            return _getRelayedCallData();\n        }\n    }\n\n    function _getRelayedCallSender() private pure returns (address result) {\n        // We need to read 20 bytes (an address) located at array index msg.data.length - 20. In memory, the array\n        // is prefixed with a 32-byte length value, so we first add 32 to get the memory read index. However, doing\n        // so would leave the address in the upper 20 bytes of the 32-byte word, which is inconvenient and would\n        // require bit shifting. We therefore subtract 12 from the read index so the address lands on the lower 20\n        // bytes. This can always be done due to the 32-byte prefix.\n\n        // The final memory read index is msg.data.length - 20 + 32 - 12 = msg.data.length. Using inline assembly is the\n        // easiest/most-efficient way to perform this operation.\n\n        // These fields are not accessible from assembly\n        bytes memory array = msg.data;\n        uint256 index = msg.data.length;\n\n        // solhint-disable-next-line no-inline-assembly\n        assembly {\n            // Load the 32 bytes word from memory with the address on the lower 20 bytes, and mask those.\n            result := and(mload(add(array, index)), 0xffffffffffffffffffffffffffffffffffffffff)\n        }\n        return result;\n    }\n\n    function _getRelayedCallData() private pure returns (bytes memory) {\n        // RelayHub appends the sender address at the end of the calldata, so in order to retrieve the actual msg.data,\n        // we must strip the last 20 bytes (length of an address type) from it.\n\n        uint256 actualDataLength = msg.data.length - 20;\n        bytes memory actualData = new bytes(actualDataLength);\n\n        for (uint256 i = 0; i < actualDataLength; ++i) {\n            actualData[i] = msg.data[i];\n        }\n\n        return actualData;\n    }\n}","sourcePath":"contracts/GSNContext.sol","sourceMap":"214:2810:0:-;;;268:42;240:70;;;;;;;;;;;;;;;;;;;;214:2810;8:9:-1;5:2;;;30:1;27;20:12;5:2;214:2810:0;;;;;;;;;;","deployedSourceMap":"214:2810:0:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;214:2810:0;;;;;;;;;;;;;;;;;;;;;364:85;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;407:7;433:9;;;;;;;;;;;426:16;;;;364:85;;:::o","abi":[{"constant":true,"inputs":[],"name":"getHubAddr","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"}],"ast":{"absolutePath":"contracts/GSNContext.sol","exportedSymbols":{"GSNContext":[125]},"id":126,"nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","^","0.5",".0"],"nodeType":"PragmaDirective","src":"0:23:0"},{"baseContracts":[],"contractDependencies":[],"contractKind":"contract","documentation":null,"fullyImplemented":true,"id":125,"linearizedBaseContracts":[125],"name":"GSNContext","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":4,"name":"_relayHub","nodeType":"VariableDeclaration","scope":125,"src":"240:70:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2,"name":"address","nodeType":"ElementaryTypeName","src":"240:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":{"argumentTypes":null,"hexValue":"307844323136313533633036453835376344376637323636354530614631643744383231373246343934","id":3,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"268:42:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"value":"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},"visibility":"private"},{"body":{"id":11,"nodeType":"Block","src":"416:33:0","statements":[{"expression":{"argumentTypes":null,"id":9,"name":"_relayHub","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"433:9:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":8,"id":10,"nodeType":"Return","src":"426:16:0"}]},"documentation":null,"id":12,"implemented":true,"kind":"function","modifiers":[],"name":"getHubAddr","nodeType":"FunctionDefinition","parameters":{"id":5,"nodeType":"ParameterList","parameters":[],"src":"383:2:0"},"returnParameters":{"id":8,"nodeType":"ParameterList","parameters":[{"constant":false,"id":7,"name":"","nodeType":"VariableDeclaration","scope":12,"src":"407:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":6,"name":"address","nodeType":"ElementaryTypeName","src":"407:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"406:9:0"},"scope":125,"src":"364:85:0","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":21,"nodeType":"Block","src":"511:40:0","statements":[{"expression":{"argumentTypes":null,"id":19,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":17,"name":"_relayHub","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"521:9:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":18,"name":"newRelayHub","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14,"src":"533:11:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"521:23:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":20,"nodeType":"ExpressionStatement","src":"521:23:0"}]},"documentation":null,"id":22,"implemented":true,"kind":"function","modifiers":[],"name":"_upgradeRelayHub","nodeType":"FunctionDefinition","parameters":{"id":15,"nodeType":"ParameterList","parameters":[{"constant":false,"id":14,"name":"newRelayHub","nodeType":"VariableDeclaration","scope":22,"src":"481:19:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":13,"name":"address","nodeType":"ElementaryTypeName","src":"481:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"480:21:0"},"returnParameters":{"id":16,"nodeType":"ParameterList","parameters":[],"src":"511:0:0"},"scope":125,"src":"455:96:0","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":40,"nodeType":"Block","src":"881:148:0","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":30,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":27,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":425,"src":"895:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":28,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"895:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":29,"name":"_relayHub","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"909:9:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"895:23:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":38,"nodeType":"Block","src":"968:55:0","statements":[{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":35,"name":"_getRelayedCallSender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80,"src":"989:21:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_address_$","typeString":"function () pure returns (address)"}},"id":36,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"989:23:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":26,"id":37,"nodeType":"Return","src":"982:30:0"}]},"id":39,"nodeType":"IfStatement","src":"891:132:0","trueBody":{"id":34,"nodeType":"Block","src":"920:42:0","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":31,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":425,"src":"941:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":32,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"941:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"functionReturnParameters":26,"id":33,"nodeType":"Return","src":"934:17:0"}]}}]},"documentation":null,"id":41,"implemented":true,"kind":"function","modifiers":[],"name":"_msgSender","nodeType":"FunctionDefinition","parameters":{"id":23,"nodeType":"ParameterList","parameters":[],"src":"846:2:0"},"returnParameters":{"id":26,"nodeType":"ParameterList","parameters":[{"constant":false,"id":25,"name":"","nodeType":"VariableDeclaration","scope":41,"src":"872:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":24,"name":"address","nodeType":"ElementaryTypeName","src":"872:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"871:9:0"},"scope":125,"src":"827:202:0","stateMutability":"view","superFunction":null,"visibility":"internal"},{"body":{"id":59,"nodeType":"Block","src":"1092:144:0","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":49,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":46,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":425,"src":"1106:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1106:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":48,"name":"_relayHub","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"1120:9:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1106:23:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":57,"nodeType":"Block","src":"1177:53:0","statements":[{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":54,"name":"_getRelayedCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":124,"src":"1198:19:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":55,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1198:21:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"functionReturnParameters":45,"id":56,"nodeType":"Return","src":"1191:28:0"}]},"id":58,"nodeType":"IfStatement","src":"1102:128:0","trueBody":{"id":53,"nodeType":"Block","src":"1131:40:0","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":50,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":425,"src":"1152:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":51,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1152:8:0","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"functionReturnParameters":45,"id":52,"nodeType":"Return","src":"1145:15:0"}]}}]},"documentation":null,"id":60,"implemented":true,"kind":"function","modifiers":[],"name":"_msgData","nodeType":"FunctionDefinition","parameters":{"id":42,"nodeType":"ParameterList","parameters":[],"src":"1052:2:0"},"returnParameters":{"id":45,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44,"name":"","nodeType":"VariableDeclaration","scope":60,"src":"1078:12:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":43,"name":"bytes","nodeType":"ElementaryTypeName","src":"1078:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"1077:14:0"},"scope":125,"src":"1035:201:0","stateMutability":"view","superFunction":null,"visibility":"internal"},{"body":{"id":79,"nodeType":"Block","src":"1313:1171:0","statements":[{"assignments":[66],"declarations":[{"constant":false,"id":66,"name":"array","nodeType":"VariableDeclaration","scope":79,"src":"2096:18:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":65,"name":"bytes","nodeType":"ElementaryTypeName","src":"2096:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"id":69,"initialValue":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":67,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":425,"src":"2117:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":68,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2117:8:0","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"nodeType":"VariableDeclarationStatement","src":"2096:29:0"},{"assignments":[71],"declarations":[{"constant":false,"id":71,"name":"index","nodeType":"VariableDeclaration","scope":79,"src":"2135:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70,"name":"uint256","nodeType":"ElementaryTypeName","src":"2135:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":75,"initialValue":{"argumentTypes":null,"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":72,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":425,"src":"2151:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":73,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2151:8:0","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"id":74,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2151:15:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2135:31:0"},{"externalReferences":[{"result":{"declaration":63,"isOffset":false,"isSlot":false,"src":"2362:6:0","valueSize":1}},{"array":{"declaration":66,"isOffset":false,"isSlot":false,"src":"2386:5:0","valueSize":1}},{"index":{"declaration":71,"isOffset":false,"isSlot":false,"src":"2393:5:0","valueSize":1}}],"id":76,"nodeType":"InlineAssembly","operations":"{\n    result := and(mload(add(array, index)), 0xffffffffffffffffffffffffffffffffffffffff)\n}","src":"2233:222:0"},{"expression":{"argumentTypes":null,"id":77,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":63,"src":"2471:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":64,"id":78,"nodeType":"Return","src":"2464:13:0"}]},"documentation":null,"id":80,"implemented":true,"kind":"function","modifiers":[],"name":"_getRelayedCallSender","nodeType":"FunctionDefinition","parameters":{"id":61,"nodeType":"ParameterList","parameters":[],"src":"1272:2:0"},"returnParameters":{"id":64,"nodeType":"ParameterList","parameters":[{"constant":false,"id":63,"name":"result","nodeType":"VariableDeclaration","scope":80,"src":"1297:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":62,"name":"address","nodeType":"ElementaryTypeName","src":"1297:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"1296:16:0"},"scope":125,"src":"1242:1242:0","stateMutability":"pure","superFunction":null,"visibility":"private"},{"body":{"id":123,"nodeType":"Block","src":"2557:465:0","statements":[{"assignments":[86],"declarations":[{"constant":false,"id":86,"name":"actualDataLength","nodeType":"VariableDeclaration","scope":123,"src":"2768:24:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":85,"name":"uint256","nodeType":"ElementaryTypeName","src":"2768:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":92,"initialValue":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":91,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":87,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":425,"src":"2795:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":88,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2795:8:0","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"id":89,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2795:15:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"argumentTypes":null,"hexValue":"3230","id":90,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2813:2:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_20_by_1","typeString":"int_const 20"},"value":"20"},"src":"2795:20:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2768:47:0"},{"assignments":[94],"declarations":[{"constant":false,"id":94,"name":"actualData","nodeType":"VariableDeclaration","scope":123,"src":"2825:23:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":93,"name":"bytes","nodeType":"ElementaryTypeName","src":"2825:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"id":99,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":97,"name":"actualDataLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":86,"src":"2861:16:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":96,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"2851:9:0","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_bytes_memory_$","typeString":"function (uint256) pure returns (bytes memory)"},"typeName":{"id":95,"name":"bytes","nodeType":"ElementaryTypeName","src":"2855:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},"id":98,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2851:27:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"2825:53:0"},{"body":{"id":119,"nodeType":"Block","src":"2936:52:0","statements":[{"expression":{"argumentTypes":null,"id":117,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":110,"name":"actualData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":94,"src":"2950:10:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":112,"indexExpression":{"argumentTypes":null,"id":111,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":101,"src":"2961:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2950:13:0","typeDescriptions":{"typeIdentifier":"t_bytes1","typeString":"bytes1"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":113,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":425,"src":"2966:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":114,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2966:8:0","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"id":116,"indexExpression":{"argumentTypes":null,"id":115,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":101,"src":"2975:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2966:11:0","typeDescriptions":{"typeIdentifier":"t_bytes1","typeString":"bytes1"}},"src":"2950:27:0","typeDescriptions":{"typeIdentifier":"t_bytes1","typeString":"bytes1"}},"id":118,"nodeType":"ExpressionStatement","src":"2950:27:0"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":106,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":104,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":101,"src":"2909:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":105,"name":"actualDataLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":86,"src":"2913:16:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2909:20:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":120,"initializationExpression":{"assignments":[101],"declarations":[{"constant":false,"id":101,"name":"i","nodeType":"VariableDeclaration","scope":120,"src":"2894:9:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":100,"name":"uint256","nodeType":"ElementaryTypeName","src":"2894:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":103,"initialValue":{"argumentTypes":null,"hexValue":"30","id":102,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2906:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"2894:13:0"},"loopExpression":{"expression":{"argumentTypes":null,"id":108,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"2931:3:0","subExpression":{"argumentTypes":null,"id":107,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":101,"src":"2933:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":109,"nodeType":"ExpressionStatement","src":"2931:3:0"},"nodeType":"ForStatement","src":"2889:99:0"},{"expression":{"argumentTypes":null,"id":121,"name":"actualData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":94,"src":"3005:10:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"functionReturnParameters":84,"id":122,"nodeType":"Return","src":"2998:17:0"}]},"documentation":null,"id":124,"implemented":true,"kind":"function","modifiers":[],"name":"_getRelayedCallData","nodeType":"FunctionDefinition","parameters":{"id":81,"nodeType":"ParameterList","parameters":[],"src":"2518:2:0"},"returnParameters":{"id":84,"nodeType":"ParameterList","parameters":[{"constant":false,"id":83,"name":"","nodeType":"VariableDeclaration","scope":124,"src":"2543:12:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":82,"name":"bytes","nodeType":"ElementaryTypeName","src":"2543:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"2542:14:0"},"scope":125,"src":"2490:532:0","stateMutability":"pure","superFunction":null,"visibility":"private"}],"scope":126,"src":"214:2810:0"}],"src":"0:3024:0"},"bytecode":"0x608060405273d216153c06e857cd7f72665e0af1d7d82172f494600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503480156100665760006000fd5b5061006c565b60dd8061007a6000396000f3fe608060405234801560105760006000fd5b5060043610602c5760003560e01c806374e861d614603257602c565b60006000fd5b6038607a565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905060a5565b9056fea265627a7a723058207df2993fe66799ec6a4e3af034b30eb906c3123753b9ca8e04ba2d4c53140e9e64736f6c634300050a0032","deployedBytecode":"0x608060405234801560105760006000fd5b5060043610602c5760003560e01c806374e861d614603257602c565b60006000fd5b6038607a565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905060a5565b9056fea265627a7a723058207df2993fe66799ec6a4e3af034b30eb906c3123753b9ca8e04ba2d4c53140e9e64736f6c634300050a0032","compiler":{"name":"solc","version":"0.5.10+commit.5a6ea5b1.Linux.g++","optimizer":{},"evmVersion":"constantinople"}}
