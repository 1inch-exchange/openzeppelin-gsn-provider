{"fileName":"GSNContext.sol","contractName":"GSNContext","source":"pragma solidity ^0.5.0;\n\n/*\n * @dev Enables GSN support by recognizing calls from RelayHub and extracting\n * the actual sender and call data from the received values.\n *\n * Adapted from @openzeppelin/contracts\n */\ncontract GSNContext {\n    address private _relayHub = 0xD216153c06E857cD7f72665E0aF1d7D82172F494;\n\n    // Currently required by the RelayProvider\n    function getHubAddr() public view returns (address) {\n        return _relayHub;\n    }\n\n    function _upgradeRelayHub(address newRelayHub) internal {\n        _relayHub = newRelayHub;\n    }\n\n    // Overrides for Context's functions: when called from RelayHub, sender and\n    // data require some pre-processing: the actual sender is stored at the end\n    // of the call data, which in turns means it needs to be removed from it\n    // when handling said data.\n\n    function _msgSender() internal view returns (address) {\n        if (msg.sender != _relayHub) {\n            return msg.sender;\n        } else {\n            return _getRelayedCallSender();\n        }\n    }\n\n    function _msgData() internal view returns (bytes memory) {\n        if (msg.sender != _relayHub) {\n            return msg.data;\n        } else {\n            return _getRelayedCallData();\n        }\n    }\n\n    function _getRelayedCallSender() private pure returns (address result) {\n        // We need to read 20 bytes (an address) located at array index msg.data.length - 20. In memory, the array\n        // is prefixed with a 32-byte length value, so we first add 32 to get the memory read index. However, doing\n        // so would leave the address in the upper 20 bytes of the 32-byte word, which is inconvenient and would\n        // require bit shifting. We therefore subtract 12 from the read index so the address lands on the lower 20\n        // bytes. This can always be done due to the 32-byte prefix.\n\n        // The final memory read index is msg.data.length - 20 + 32 - 12 = msg.data.length. Using inline assembly is the\n        // easiest/most-efficient way to perform this operation.\n\n        // These fields are not accessible from assembly\n        bytes memory array = msg.data;\n        uint256 index = msg.data.length;\n\n        // solhint-disable-next-line no-inline-assembly\n        assembly {\n            // Load the 32 bytes word from memory with the address on the lower 20 bytes, and mask those.\n            result := and(mload(add(array, index)), 0xffffffffffffffffffffffffffffffffffffffff)\n        }\n        return result;\n    }\n\n    function _getRelayedCallData() private pure returns (bytes memory) {\n        // RelayHub appends the sender address at the end of the calldata, so in order to retrieve the actual msg.data,\n        // we must strip the last 20 bytes (length of an address type) from it.\n\n        uint256 actualDataLength = msg.data.length - 20;\n        bytes memory actualData = new bytes(actualDataLength);\n\n        for (uint256 i = 0; i < actualDataLength; ++i) {\n            actualData[i] = msg.data[i];\n        }\n\n        return actualData;\n    }\n}","sourcePath":"contracts/GSNContext.sol","sourceMap":"214:2810:1:-;;;268:42;240:70;;;;;;;;;;;;;;;;;;;;214:2810;8:9:-1;5:2;;;30:1;27;20:12;5:2;214:2810:1;;;;;;;;;;","deployedSourceMap":"214:2810:1:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;214:2810:1;;;;;;;;;;;;;;;;;;;;;364:85;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;407:7;433:9;;;;;;;;;;;426:16;;;;364:85;;:::o","abi":[{"constant":true,"inputs":[],"name":"getHubAddr","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"}],"ast":{"absolutePath":"contracts/GSNContext.sol","exportedSymbols":{"GSNContext":[206]},"id":207,"nodeType":"SourceUnit","nodes":[{"id":82,"literals":["solidity","^","0.5",".0"],"nodeType":"PragmaDirective","src":"0:23:1"},{"baseContracts":[],"contractDependencies":[],"contractKind":"contract","documentation":null,"fullyImplemented":true,"id":206,"linearizedBaseContracts":[206],"name":"GSNContext","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":85,"name":"_relayHub","nodeType":"VariableDeclaration","scope":206,"src":"240:70:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":83,"name":"address","nodeType":"ElementaryTypeName","src":"240:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":{"argumentTypes":null,"hexValue":"307844323136313533633036453835376344376637323636354530614631643744383231373246343934","id":84,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"268:42:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"value":"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},"visibility":"private"},{"body":{"id":92,"nodeType":"Block","src":"416:33:1","statements":[{"expression":{"argumentTypes":null,"id":90,"name":"_relayHub","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":85,"src":"433:9:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":89,"id":91,"nodeType":"Return","src":"426:16:1"}]},"documentation":null,"id":93,"implemented":true,"kind":"function","modifiers":[],"name":"getHubAddr","nodeType":"FunctionDefinition","parameters":{"id":86,"nodeType":"ParameterList","parameters":[],"src":"383:2:1"},"returnParameters":{"id":89,"nodeType":"ParameterList","parameters":[{"constant":false,"id":88,"name":"","nodeType":"VariableDeclaration","scope":93,"src":"407:7:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87,"name":"address","nodeType":"ElementaryTypeName","src":"407:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"406:9:1"},"scope":206,"src":"364:85:1","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":102,"nodeType":"Block","src":"511:40:1","statements":[{"expression":{"argumentTypes":null,"id":100,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":98,"name":"_relayHub","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":85,"src":"521:9:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":99,"name":"newRelayHub","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":95,"src":"533:11:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"521:23:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":101,"nodeType":"ExpressionStatement","src":"521:23:1"}]},"documentation":null,"id":103,"implemented":true,"kind":"function","modifiers":[],"name":"_upgradeRelayHub","nodeType":"FunctionDefinition","parameters":{"id":96,"nodeType":"ParameterList","parameters":[{"constant":false,"id":95,"name":"newRelayHub","nodeType":"VariableDeclaration","scope":103,"src":"481:19:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":94,"name":"address","nodeType":"ElementaryTypeName","src":"481:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"480:21:1"},"returnParameters":{"id":97,"nodeType":"ParameterList","parameters":[],"src":"511:0:1"},"scope":206,"src":"455:96:1","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":121,"nodeType":"Block","src":"881:148:1","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":111,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":108,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"895:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":109,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"895:10:1","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":110,"name":"_relayHub","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":85,"src":"909:9:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"895:23:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":119,"nodeType":"Block","src":"968:55:1","statements":[{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":116,"name":"_getRelayedCallSender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":161,"src":"989:21:1","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_address_$","typeString":"function () pure returns (address)"}},"id":117,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"989:23:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":107,"id":118,"nodeType":"Return","src":"982:30:1"}]},"id":120,"nodeType":"IfStatement","src":"891:132:1","trueBody":{"id":115,"nodeType":"Block","src":"920:42:1","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":112,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"941:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":113,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"941:10:1","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"functionReturnParameters":107,"id":114,"nodeType":"Return","src":"934:17:1"}]}}]},"documentation":null,"id":122,"implemented":true,"kind":"function","modifiers":[],"name":"_msgSender","nodeType":"FunctionDefinition","parameters":{"id":104,"nodeType":"ParameterList","parameters":[],"src":"846:2:1"},"returnParameters":{"id":107,"nodeType":"ParameterList","parameters":[{"constant":false,"id":106,"name":"","nodeType":"VariableDeclaration","scope":122,"src":"872:7:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":105,"name":"address","nodeType":"ElementaryTypeName","src":"872:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"871:9:1"},"scope":206,"src":"827:202:1","stateMutability":"view","superFunction":null,"visibility":"internal"},{"body":{"id":140,"nodeType":"Block","src":"1092:144:1","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":130,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":127,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"1106:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":128,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1106:10:1","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":129,"name":"_relayHub","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":85,"src":"1120:9:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1106:23:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":138,"nodeType":"Block","src":"1177:53:1","statements":[{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":135,"name":"_getRelayedCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":205,"src":"1198:19:1","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":136,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1198:21:1","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"functionReturnParameters":126,"id":137,"nodeType":"Return","src":"1191:28:1"}]},"id":139,"nodeType":"IfStatement","src":"1102:128:1","trueBody":{"id":134,"nodeType":"Block","src":"1131:40:1","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":131,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"1152:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":132,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1152:8:1","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"functionReturnParameters":126,"id":133,"nodeType":"Return","src":"1145:15:1"}]}}]},"documentation":null,"id":141,"implemented":true,"kind":"function","modifiers":[],"name":"_msgData","nodeType":"FunctionDefinition","parameters":{"id":123,"nodeType":"ParameterList","parameters":[],"src":"1052:2:1"},"returnParameters":{"id":126,"nodeType":"ParameterList","parameters":[{"constant":false,"id":125,"name":"","nodeType":"VariableDeclaration","scope":141,"src":"1078:12:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":124,"name":"bytes","nodeType":"ElementaryTypeName","src":"1078:5:1","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"1077:14:1"},"scope":206,"src":"1035:201:1","stateMutability":"view","superFunction":null,"visibility":"internal"},{"body":{"id":160,"nodeType":"Block","src":"1313:1171:1","statements":[{"assignments":[147],"declarations":[{"constant":false,"id":147,"name":"array","nodeType":"VariableDeclaration","scope":160,"src":"2096:18:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":146,"name":"bytes","nodeType":"ElementaryTypeName","src":"2096:5:1","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"id":150,"initialValue":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":148,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"2117:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":149,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2117:8:1","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"nodeType":"VariableDeclarationStatement","src":"2096:29:1"},{"assignments":[152],"declarations":[{"constant":false,"id":152,"name":"index","nodeType":"VariableDeclaration","scope":160,"src":"2135:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":151,"name":"uint256","nodeType":"ElementaryTypeName","src":"2135:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":156,"initialValue":{"argumentTypes":null,"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":153,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"2151:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":154,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2151:8:1","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"id":155,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2151:15:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2135:31:1"},{"externalReferences":[{"result":{"declaration":144,"isOffset":false,"isSlot":false,"src":"2362:6:1","valueSize":1}},{"array":{"declaration":147,"isOffset":false,"isSlot":false,"src":"2386:5:1","valueSize":1}},{"index":{"declaration":152,"isOffset":false,"isSlot":false,"src":"2393:5:1","valueSize":1}}],"id":157,"nodeType":"InlineAssembly","operations":"{\n    result := and(mload(add(array, index)), 0xffffffffffffffffffffffffffffffffffffffff)\n}","src":"2233:222:1"},{"expression":{"argumentTypes":null,"id":158,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":144,"src":"2471:6:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":145,"id":159,"nodeType":"Return","src":"2464:13:1"}]},"documentation":null,"id":161,"implemented":true,"kind":"function","modifiers":[],"name":"_getRelayedCallSender","nodeType":"FunctionDefinition","parameters":{"id":142,"nodeType":"ParameterList","parameters":[],"src":"1272:2:1"},"returnParameters":{"id":145,"nodeType":"ParameterList","parameters":[{"constant":false,"id":144,"name":"result","nodeType":"VariableDeclaration","scope":161,"src":"1297:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":143,"name":"address","nodeType":"ElementaryTypeName","src":"1297:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"1296:16:1"},"scope":206,"src":"1242:1242:1","stateMutability":"pure","superFunction":null,"visibility":"private"},{"body":{"id":204,"nodeType":"Block","src":"2557:465:1","statements":[{"assignments":[167],"declarations":[{"constant":false,"id":167,"name":"actualDataLength","nodeType":"VariableDeclaration","scope":204,"src":"2768:24:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":166,"name":"uint256","nodeType":"ElementaryTypeName","src":"2768:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":173,"initialValue":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":172,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":168,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"2795:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":169,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2795:8:1","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"id":170,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2795:15:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"argumentTypes":null,"hexValue":"3230","id":171,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2813:2:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_20_by_1","typeString":"int_const 20"},"value":"20"},"src":"2795:20:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2768:47:1"},{"assignments":[175],"declarations":[{"constant":false,"id":175,"name":"actualData","nodeType":"VariableDeclaration","scope":204,"src":"2825:23:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":174,"name":"bytes","nodeType":"ElementaryTypeName","src":"2825:5:1","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"id":180,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":178,"name":"actualDataLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":167,"src":"2861:16:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":177,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"2851:9:1","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_bytes_memory_$","typeString":"function (uint256) pure returns (bytes memory)"},"typeName":{"id":176,"name":"bytes","nodeType":"ElementaryTypeName","src":"2855:5:1","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},"id":179,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2851:27:1","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"2825:53:1"},{"body":{"id":200,"nodeType":"Block","src":"2936:52:1","statements":[{"expression":{"argumentTypes":null,"id":198,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":191,"name":"actualData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":175,"src":"2950:10:1","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":193,"indexExpression":{"argumentTypes":null,"id":192,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":182,"src":"2961:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2950:13:1","typeDescriptions":{"typeIdentifier":"t_bytes1","typeString":"bytes1"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":194,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"2966:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":195,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2966:8:1","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"id":197,"indexExpression":{"argumentTypes":null,"id":196,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":182,"src":"2975:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2966:11:1","typeDescriptions":{"typeIdentifier":"t_bytes1","typeString":"bytes1"}},"src":"2950:27:1","typeDescriptions":{"typeIdentifier":"t_bytes1","typeString":"bytes1"}},"id":199,"nodeType":"ExpressionStatement","src":"2950:27:1"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":187,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":185,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":182,"src":"2909:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":186,"name":"actualDataLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":167,"src":"2913:16:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2909:20:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":201,"initializationExpression":{"assignments":[182],"declarations":[{"constant":false,"id":182,"name":"i","nodeType":"VariableDeclaration","scope":201,"src":"2894:9:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":181,"name":"uint256","nodeType":"ElementaryTypeName","src":"2894:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":184,"initialValue":{"argumentTypes":null,"hexValue":"30","id":183,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2906:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"2894:13:1"},"loopExpression":{"expression":{"argumentTypes":null,"id":189,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"2931:3:1","subExpression":{"argumentTypes":null,"id":188,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":182,"src":"2933:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":190,"nodeType":"ExpressionStatement","src":"2931:3:1"},"nodeType":"ForStatement","src":"2889:99:1"},{"expression":{"argumentTypes":null,"id":202,"name":"actualData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":175,"src":"3005:10:1","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"functionReturnParameters":165,"id":203,"nodeType":"Return","src":"2998:17:1"}]},"documentation":null,"id":205,"implemented":true,"kind":"function","modifiers":[],"name":"_getRelayedCallData","nodeType":"FunctionDefinition","parameters":{"id":162,"nodeType":"ParameterList","parameters":[],"src":"2518:2:1"},"returnParameters":{"id":165,"nodeType":"ParameterList","parameters":[{"constant":false,"id":164,"name":"","nodeType":"VariableDeclaration","scope":205,"src":"2543:12:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":163,"name":"bytes","nodeType":"ElementaryTypeName","src":"2543:5:1","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"2542:14:1"},"scope":206,"src":"2490:532:1","stateMutability":"pure","superFunction":null,"visibility":"private"}],"scope":207,"src":"214:2810:1"}],"src":"0:3024:1"},"bytecode":"0x608060405273d216153c06e857cd7f72665e0af1d7d82172f494600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503480156100665760006000fd5b5061006c565b60dd8061007a6000396000f3fe608060405234801560105760006000fd5b5060043610602c5760003560e01c806374e861d614603257602c565b60006000fd5b6038607a565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905060a5565b9056fea265627a7a723058207df2993fe66799ec6a4e3af034b30eb906c3123753b9ca8e04ba2d4c53140e9e64736f6c634300050a0032","deployedBytecode":"0x608060405234801560105760006000fd5b5060043610602c5760003560e01c806374e861d614603257602c565b60006000fd5b6038607a565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905060a5565b9056fea265627a7a723058207df2993fe66799ec6a4e3af034b30eb906c3123753b9ca8e04ba2d4c53140e9e64736f6c634300050a0032","compiler":{"name":"solc","version":"0.5.10+commit.5a6ea5b1.Linux.g++","optimizer":{},"evmVersion":"constantinople"}}
